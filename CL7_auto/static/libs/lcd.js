
class lcd {
  static check_performance = false;
  static letterData =  {
    // right arrow
'' : [[false, false, false, false, false],
    [false, false, true,  false, false],
    [false, false, false, true,  false],
    [true,  true,  true,  true,  true ],
    [false, false, false, true,  false], 
    [false, false, true,  false, false],
    [false, false, false, false, false],
    [false, false, false, false, false],],
    // down arrow
'' : [[false, false, true, false, false],
    [false, false, true, false, false],
    [false, false, true, false, false],
    [false, false, true, false, false],
    [false, false, true, false, false],
    [true, false, true, false, true],
    [false, true, true, true, false],
    [false, false, true, false, false]],

'': [[false, false, false, false, false],
  [false, false, false, false, false],
  [false, false, false, false, false],
  [false, false, false, false, false],
  [false, false, false, false, false],
  [false, false, false, false, false],
  [false, false, false, false, false],
  [false, false, false, false, false]],
' ': [[false, false, false, false, false],
  [false, false, false, false, false],
  [false, false, false, false, false],
  [false, false, false, false, false],
  [false, false, false, false, false],
  [false, false, false, false, false],
  [false, false, false, false, false],
  [false, false, false, false, false]],
'!': [[false, false, true, false, false],
  [false, false, true, false, false],
  [false, false, true, false, false],
  [false, false, true, false, false],
  [false, false, true, false, false],
  [false, false, false, false, false],
  [false, false, true, false, false],
  [false, false, false, false, false]],
'"': [[false, true, false, true, false],
  [false, true, false, true, false],
  [false, false, false, false, false],
  [false, false, false, false, false],
  [false, false, false, false, false],
  [false, false, false, false, false],
  [false, false, false, false, false],
  [false, false, false, false, false]],
'#': [[false, true, false, true, false],
  [false, true, false, true, false],
  [true, true, true, true, true],
  [false, true, false, true, false],
  [true, true, true, true, true],
  [false, true, false, true, false],
  [false, true, false, true, false],
  [false, false, false, false, false]],
'$': [[false, false, true, false, false],
  [false, true, true, true, true],
  [true, false, true, false, false],
  [false, true, true, true, false],
  [false, false, true, false, true],
  [true, true, true, true, false],
  [false, false, true, false, false],
  [false, false, false, false, false]],
'%': [[true, true, false, false, false],
  [true, true, false, false, true],
  [false, false, false, true, false],
  [false, false, true, false, false],
  [false, true, false, false, false],
  [true, false, false, true, true],
  [false, false, false, true, true],
  [false, false, false, false, false]],
'&': [[false, true, true, false, false],
  [true, false, false, true, false],
  [true, false, true, false, false],
  [false, true, false, false, false],
  [true, false, true, false, true],
  [true, false, false, true, false],
  [false, true, true, false, true],
  [false, false, false, false, false]],
"'": [[false, true, true, false, false],
  [false, false, true, false, false],
  [false, true, false, false, false],
  [false, false, false, false, false],
  [false, false, false, false, false],
  [false, false, false, false, false],
  [false, false, false, false, false],
  [false, false, false, false, false]],
'(': [[false, false, false, true, false],
  [false, false, true, false, false],
  [false, true, false, false, false],
  [false, true, false, false, false],
  [false, true, false, false, false],
  [false, false, true, false, false],
  [false, false, false, true, false],
  [false, false, false, false, false]],
')': [[false, true, false, false, false],
  [false, false, true, false, false],
  [false, false, false, true, false],
  [false, false, false, true, false],
  [false, false, false, true, false],
  [false, false, true, false, false],
  [false, true, false, false, false],
  [false, false, false, false, false]],
'*': [[false, false, false, false, false],
  [false, false, true, false, false],
  [true, false, true, false, true],
  [false, true, true, true, false],
  [true, false, true, false, true],
  [false, false, true, false, false],
  [false, false, false, false, false],
  [false, false, false, false, false]],
'+': [[false, false, false, false, false],
  [false, false, true, false, false],
  [false, false, true, false, false],
  [true, true, true, true, true],
  [false, false, true, false, false],
  [false, false, true, false, false],
  [false, false, false, false, false],
  [false, false, false, false, false]],
',': [[false, false, false, false, false],
  [false, false, false, false, false],
  [false, false, false, false, false],
  [false, false, false, false, false],
  [false, false, false, false, false],
  [false, true, true, false, false],
  [false, false, true, false, false],
  [false, true, false, false, false]],
'-': [[false, false, false, false, false],
  [false, false, false, false, false],
  [false, false, false, false, false],
  [true, true, true, true, true],
  [false, false, false, false, false],
  [false, false, false, false, false],
  [false, false, false, false, false],
  [false, false, false, false, false]],
'.': [[false, false, false, false, false],
  [false, false, false, false, false],
  [false, false, false, false, false],
  [false, false, false, false, false],
  [false, false, false, false, false],
  [false, false, false, false, false],
  [false, true, true, false, false],
  [false, true, true, false, false]],
'/': [[false, false, false, false, false],
  [false, false, false, false, true],
  [false, false, false, true, false],
  [false, false, true, false, false],
  [false, true, false, false, false],
  [true, false, false, false, false],
  [false, false, false, false, false],
  [false, false, false, false, false]],
'0': [[false, true, true, true, false],
  [true, false, false, false, true],
  [true, false, false, true, true],
  [true, false, true, false, true],
  [true, true, false, false, true],
  [true, false, false, false, true],
  [false, true, true, true, false],
  [false, false, false, false, false]],
'1': [[false, false, true, false, false],
  [false, true, true, false, false],
  [false, false, true, false, false],
  [false, false, true, false, false],
  [false, false, true, false, false],
  [false, false, true, false, false],
  [false, true, true, true, false],
  [false, false, false, false, false]],
'2': [[false, true, true, true, false],
  [true, false, false, false, true],
  [false, false, false, false, true],
  [false, false, false, true, false],
  [false, false, true, false, false],
  [false, true, false, false, false],
  [true, true, true, true, true],
  [false, false, false, false, false]],
'3': [[true, true, true, true, true],
  [false, false, false, true, false],
  [false, false, true, false, false],
  [false, false, false, true, false],
  [false, false, false, false, true],
  [true, false, false, false, true],
  [false, true, true, true, false],
  [false, false, false, false, false]],
'4': [[false, false, false, true, false],
  [false, false, true, true, false],
  [false, true, false, true, false],
  [true, false, false, true, false],
  [true, true, true, true, true],
  [false, false, false, true, false],
  [false, false, false, true, false],
  [false, false, false, false, false]],
'5': [[true, true, true, true, true],
  [true, false, false, false, false],
  [true, true, true, true, false],
  [false, false, false, false, true],
  [false, false, false, false, true],
  [true, false, false, false, true],
  [false, true, true, true, false],
  [false, false, false, false, false]],
'6': [[false, false, true, true, false],
  [false, true, false, false, false],
  [true, false, false, false, false],
  [true, true, true, true, false],
  [true, false, false, false, true],
  [true, false, false, false, true],
  [false, true, true, true, false],
  [false, false, false, false, false]],
'7': [[true, true, true, true, true],
  [false, false, false, false, true],
  [false, false, false, true, false],
  [false, false, true, false, false],
  [false, true, false, false, false],
  [false, true, false, false, false],
  [false, true, false, false, false],
  [false, false, false, false, false]],
'8': [[false, true, true, true, false],
  [true, false, false, false, true],
  [true, false, false, false, true],
  [false, true, true, true, false],
  [true, false, false, false, true],
  [true, false, false, false, true],
  [false, true, true, true, false],
  [false, false, false, false, false]],
'9': [[false, true, true, true, false],
  [true, false, false, false, true],
  [true, false, false, false, true],
  [false, true, true, true, true],
  [false, false, false, false, true],
  [false, false, false, true, false],
  [false, true, true, false, false],
  [false, false, false, false, false]],
':': [[false, false, false, false, false],
  [false, false, false, false, false],
  [false, true, false, false, false],
  [false, false, false, false, false],
  [false, true, false, false, false],
  [false, false, false, false, false],
  [false, false, false, false, false],
  [false, false, false, false, false]],
'<': [[false, false, false, true, false],
  [false, false, true, false, false],
  [false, true, false, false, false],
  [true, false, false, false, false],
  [false, true, false, false, false],
  [false, false, true, false, false],
  [false, false, false, true, false],
  [false, false, false, false, false]],
'=': [[false, false, false, false, false],
  [false, false, false, false, false],
  [true, true, true, true, true],
  [false, false, false, false, false],
  [true, true, true, true, true],
  [false, false, false, false, false],
  [false, false, false, false, false],
  [false, false, false, false, false]],
'>': [[false, true, false, false, false],
  [false, false, true, false, false],
  [false, false, false, true, false],
  [false, false, false, false, true],
  [false, false, false, true, false],
  [false, false, true, false, false],
  [false, true, false, false, false],
  [false, false, false, false, false]],
'?': [[false, true, true, true, false],
  [true, false, false, false, true],
  [true, false, false, false, true],
  [false, false, false, true, false],
  [false, false, true, false, false],
  [false, false, false, false, false],
  [false, false, true, false, false],
  [false, false, false, false, false]],
'@': [[false, true, true, true, false],
  [true, false, false, false, true],
  [false, false, false, false, true],
  [false, true, true, false, true],
  [true, false, true, false, true],
  [true, false, true, false, true],
  [false, true, true, true, false],
  [false, false, false, false, false]],
'A': [[false, true, true, true, false],
  [true, false, false, false, true],
  [true, false, false, false, true],
  [true, false, false, false, true],
  [true, true, true, true, true],
  [true, false, false, false, true],
  [true, false, false, false, true],
  [false, false, false, false, false]],
'B': [[true, true, true, true, false],
  [true, false, false, false, true],
  [true, false, false, false, true],
  [true, true, true, true, false],
  [true, false, false, false, true],
  [true, false, false, false, true],
  [true, true, true, true, false],
  [false, false, false, false, false]],
'C': [[false, true, true, true, false],
  [true, false, false, false, true],
  [true, false, false, false, false],
  [true, false, false, false, false],
  [true, false, false, false, false],
  [true, false, false, false, true],
  [false, true, true, true, false],
  [false, false, false, false, false]],
'D': [[true, true, true, false, false],
  [true, false, false, true, false],
  [true, false, false, false, true],
  [true, false, false, false, true],
  [true, false, false, false, true],
  [true, false, false, true, false],
  [true, true, true, false, false],
  [false, false, false, false, false]],
'E': [[true, true, true, true, true],
  [true, false, false, false, false],
  [true, false, false, false, false],
  [true, true, true, true, false],
  [true, false, false, false, false],
  [true, false, false, false, false],
  [true, true, true, true, true],
  [false, false, false, false, false]],
'F': [[true, true, true, true, true],
  [true, false, false, false, false],
  [true, false, false, false, false],
  [true, true, true, true, false],
  [true, false, false, false, false],
  [true, false, false, false, false],
  [true, false, false, false, false],
  [false, false, false, false, false]],
'G': [[false, true, true, true, false],
  [true, false, false, false, true],
  [true, false, false, false, false],
  [true, false, true, true, true],
  [true, false, false, false, true],
  [true, false, false, false, true],
  [false, true, true, true, true],
  [false, false, false, false, false]],
'H': [[true, false, false, false, true],
  [true, false, false, false, true],
  [true, false, false, false, true],
  [true, true, true, true, true],
  [true, false, false, false, true],
  [true, false, false, false, true],
  [true, false, false, false, true],
  [false, false, false, false, false]],
'I': [[false, true, true, true, false],
  [false, false, true, false, false],
  [false, false, true, false, false],
  [false, false, true, false, false],
  [false, false, true, false, false],
  [false, false, true, false, false],
  [false, true, true, true, false],
  [false, false, false, false, false]],
'J': [[false, false, true, true, true],
  [false, false, false, true, false],
  [false, false, false, true, false],
  [false, false, false, true, false],
  [false, false, false, true, false],
  [true, false, false, true, false],
  [false, true, true, false, false],
  [false, false, false, false, false]],
'K': [[true, false, false, false, true],
  [true, false, false, true, false],
  [true, false, true, false, false],
  [true, true, false, false, false],
  [true, false, true, false, false],
  [true, false, false, true, false],
  [true, false, false, false, true],
  [false, false, false, false, false]],
'L': [[true, false, false, false, false],
  [true, false, false, false, false],
  [true, false, false, false, false],
  [true, false, false, false, false],
  [true, false, false, false, false],
  [true, false, false, false, false],
  [true, true, true, true, true],
  [false, false, false, false, false]],
'M': [[true, false, false, false, true],
  [true, true, false, true, true],
  [true, false, true, false, true],
  [true, false, true, false, true],
  [true, false, false, false, true],
  [true, false, false, false, true],
  [true, false, false, false, true],
  [false, false, false, false, false]],
'N': [[true, false, false, false, true],
  [true, false, false, false, true],
  [true, true, false, false, true],
  [true, false, true, false, true],
  [true, false, false, true, true],
  [true, false, false, false, true],
  [true, false, false, false, true],
  [false, false, false, false, false]],
'O': [[false, true, true, true, false],
  [true, false, false, false, true],
  [true, false, false, false, true],
  [true, false, false, false, true],
  [true, false, false, false, true],
  [true, false, false, false, true],
  [false, true, true, true, false],
  [false, false, false, false, false]],
'P': [[true, true, true, true, false],
  [true, false, false, false, true],
  [true, false, false, false, true],
  [true, true, true, true, false],
  [true, false, false, false, false],
  [true, false, false, false, false],
  [true, false, false, false, false],
  [false, false, false, false, false]],
'Q': [[false, true, true, true, false],
  [true, false, false, false, true],
  [true, false, false, false, true],
  [true, false, false, false, true],
  [true, false, true, false, true],
  [true, false, false, true, false],
  [false, true, true, false, true],
  [false, false, false, false, false]],
'R': [[true, true, true, true, false],
  [true, false, false, false, true],
  [true, false, false, false, true],
  [true, true, true, true, false],
  [true, false, true, false, false],
  [true, false, false, true, false],
  [true, false, false, false, true],
  [false, false, false, false, false]],
'S': [[false, true, true, true, false],
  [true, false, false, false, true],
  [true, false, false, false, false],
  [false, true, true, true, false],
  [false, false, false, false, true],
  [true, false, false, false, true],
  [false, true, true, true, false],
  [false, false, false, false, false]],
'T': [[true, true, true, true, true],
  [false, false, true, false, false],
  [false, false, true, false, false],
  [false, false, true, false, false],
  [false, false, true, false, false],
  [false, false, true, false, false],
  [false, false, true, false, false],
  [false, false, false, false, false]],
'U': [[true, false, false, false, true],
  [true, false, false, false, true],
  [true, false, false, false, true],
  [true, false, false, false, true],
  [true, false, false, false, true],
  [true, false, false, false, true],
  [false, true, true, true, false],
  [false, false, false, false, false]],
'V': [[true, false, false, false, true],
  [true, false, false, false, true],
  [true, false, false, false, true],
  [true, false, false, false, true],
  [true, false, false, false, true],
  [false, true, false, true, false],
  [false, false, true, false, false],
  [false, false, false, false, false]],
'W': [[true, false, false, false, true],
  [true, false, false, false, true],
  [true, false, false, false, true],
  [true, false, false, false, true],
  [true, false, true, false, true],
  [true, false, true, false, true],
  [true, true, false, true, true],
  [false, false, false, false, false]],
'X': [[true, false, false, false, true],
  [true, false, false, false, true],
  [false, true, false, true, false],
  [false, false, true, false, false],
  [false, true, false, true, false],
  [true, false, false, false, true],
  [true, false, false, false, true],
  [false, false, false, false, false]],
'Y': [[true, false, false, false, true],
  [true, false, false, false, true],
  [true, false, false, false, true],
  [false, true, true, true, false],
  [false, false, true, false, false],
  [false, false, true, false, false],
  [false, false, true, false, false],
  [false, false, false, false, false]],
'Z': [[true, true, true, true, true],
  [false, false, false, false, true],
  [false, false, false, true, false],
  [false, false, true, false, false],
  [false, true, false, false, false],
  [true, false, false, false, false],
  [true, true, true, true, true],
  [false, false, false, false, false]],
'[': [[false, true, true, true, false],
  [false, true, false, false, false],
  [false, true, false, false, false],
  [false, true, false, false, false],
  [false, true, false, false, false],
  [false, true, false, false, false],
  [false, true, true, true, false],
  [false, false, false, false, false]],
']': [[false, true, true, true, false],
  [false, false, false, true, false],
  [false, false, false, true, false],
  [false, false, false, true, false],
  [false, false, false, true, false],
  [false, false, false, true, false],
  [false, true, true, true, false],
  [false, false, false, false, false]],
'^': [[false, false, true, false, false],
  [false, true, false, true, false],
  [true, false, false, false, true],
  [false, false, false, false, false],
  [false, false, false, false, false],
  [false, false, false, false, false],
  [false, false, false, false, false],
  [false, false, false, false, false]],
'_': [[false, false, false, false, false],
  [false, false, false, false, false],
  [false, false, false, false, false],
  [false, false, false, false, false],
  [false, false, false, false, false],
  [false, false, false, false, false],
  [true, true, true, true, true],
  [false, false, false, false, false]],
'a': [[false, false, false, false, false],
  [false, false, false, false, false],
  [false, true, true, true, false],
  [false, false, false, false, true],
  [false, true, true, true, true],
  [true, false, false, false, true],
  [false, true, true, true, true],
  [false, false, false, false, false]],
'b': [[true, false, false, false, false],
  [true, false, false, false, false],
  [true, false, true, true, false],
  [true, true, false, false, true],
  [true, false, false, false, true],
  [true, false, false, false, true],
  [true, true, true, true, false],
  [false, false, false, false, false]],
'c': [[false, false, false, false, false],
  [false, false, false, false, false],
  [false, true, true, true, false],
  [true, false, false, false, false],
  [true, false, false, false, false],
  [true, false, false, false, false],
  [false, true, true, true, false],
  [false, false, false, false, false]],
'd': [[false, false, false, false, true],
  [false, false, false, false, true],
  [false, true, true, false, true],
  [true, false, false, true, true],
  [true, false, false, false, true],
  [true, false, false, false, true],
  [false, true, true, true, true],
  [false, false, false, false, false]],
'e': [[false, false, false, false, false],
  [false, false, false, false, false],
  [false, true, true, true, false],
  [true, false, false, false, true],
  [true, true, true, true, true],
  [true, false, false, false, false],
  [false, true, true, true, false],
  [false, false, false, false, false]],
'f': [[false, false, true, true, false],
  [false, true, false, false, true],
  [false, true, false, false, false],
  [true, true, true, false, false],
  [false, true, false, false, false],
  [false, true, false, false, false],
  [false, true, false, false, false],
  [false, true, false, false, false]],
'g': [[false, false, false, false, false],
  [false, true, true, true, true],
  [true, false, false, false, true],
  [true, false, false, false, true],
  [false, true, true, true, true],
  [false, false, false, false, true],
  [false, true, true, true, false],
  [false, false, false, false, false]],
'h': [[true, false, false, false, false],
  [true, false, false, false, false],
  [true, false, true, true, false],
  [true, true, false, false, true],
  [true, false, false, false, true],
  [true, false, false, false, true],
  [true, false, false, false, true],
  [false, false, false, false, false]],
'i': [[false, false, true, false, false],
  [false, false, false, false, false],
  [false, true, true, false, false],
  [false, false, true, false, false],
  [false, false, true, false, false],
  [false, false, true, false, false],
  [false, true, true, true, false],
  [false, false, false, false, false]],
'j': [[false, false, false, true, false],
  [false, false, false, false, false],
  [false, false, true, true, false],
  [false, false, false, true, false],
  [false, false, false, true, false],
  [true, false, false, true, false],
  [false, true, true, false, false],
  [false, false, false, false, false]],
'k': [[true, false, false, false, false],
  [true, false, false, false, false],
  [true, false, false, true, false],
  [true, false, true, false, false],
  [true, true, false, false, false],
  [true, false, true, false, false],
  [true, false, false, true, false],
  [false, false, false, false, false]],
'l': [[false, true, true, false, false],
  [false, false, true, false, false],
  [false, false, true, false, false],
  [false, false, true, false, false],
  [false, false, true, false, false],
  [false, false, true, false, false],
  [false, true, true, true, false],
  [false, false, false, false, false]],
'm': [[false, false, false, false, false],
  [false, false, false, false, false],
  [true, true, false, true, false],
  [true, false, true, false, true],
  [true, false, true, false, true],
  [true, false, false, false, true],
  [true, false, false, false, true],
  [false, false, false, false, false]],
'n': [[false, false, false, false, false],
  [false, false, false, false, false],
  [true, false, true, true, false],
  [true, true, false, false, true],
  [true, false, false, false, true],
  [true, false, false, false, true],
  [true, false, false, false, true],
  [false, false, false, false, false]],
'o': [[false, false, false, false, false],
  [false, false, false, false, false],
  [false, true, true, true, false],
  [true, false, false, false, true],
  [true, false, false, false, true],
  [true, false, false, false, true],
  [false, true, true, true, false],
  [false, false, false, false, false]],
'p': [[false, false, false, false, false],
  [false, false, false, false, false],
  [true, true, true, true, false],
  [true, false, false, false, true],
  [true, true, true, true, false],
  [true, false, false, false, false],
  [true, false, false, false, false],
  [false, false, false, false, false]],
'q': [[false, false, false, false, false],
  [false, false, false, false, false],
  [false, true, true, false, true],
  [true, false, false, true, true],
  [false, true, true, true, true],
  [false, false, false, false, true],
  [false, false, false, false, true],
  [false, false, false, false, false]],
'r': [[false, false, false, false, false],
  [false, false, false, false, false],
  [true, false, true, true, false],
  [true, true, false, false, true],
  [true, false, false, false, false],
  [true, false, false, false, false],
  [true, false, false, false, false],
  [false, false, false, false, false]],
's': [[false, false, false, false, false],
  [false, false, false, false, false],
  [false, true, true, true, false],
  [true, false, false, false, false],
  [false, true, true, true, false],
  [false, false, false, false, true],
  [true, true, true, true, false],
  [false, false, false, false, false]],
't': [[false, true, false, false, false],
  [false, true, false, false, false],
  [true, true, true, false, false],
  [false, true, false, false, false],
  [false, true, false, false, false],
  [false, true, false, false, true],
  [false, false, true, true, false],
  [false, false, false, false, false]],
'u': [[false, false, false, false, false],
  [false, false, false, false, false],
  [true, false, false, false, true],
  [true, false, false, false, true],
  [true, false, false, false, true],
  [true, false, false, true, true],
  [false, true, true, false, true],
  [false, false, false, false, false]],
'v': [[false, false, false, false, false],
  [false, false, false, false, false],
  [true, false, false, false, true],
  [true, false, false, false, true],
  [true, false, false, false, true],
  [false, true, false, true, false],
  [false, false, true, false, false],
  [false, false, false, false, false]],
'w': [[false, false, false, false, false],
  [false, false, false, false, false],
  [true, false, false, false, true],
  [true, false, true, false, true],
  [true, false, true, false, true],
  [true, false, true, false, true],
  [false, true, false, true, false],
  [false, false, false, false, false]],
'x': [[false, false, false, false, false],
  [false, false, false, false, false],
  [true, false, false, false, true],
  [false, true, false, true, false],
  [false, false, true, false, false],
  [false, true, false, true, false],
  [true, false, false, false, true],
  [false, false, false, false, false]],
'y': [[false, false, false, false, false],
  [false, false, false, false, false],
  [true, false, false, false, true],
  [true, false, false, false, true],
  [false, true, true, true, true],
  [false, false, false, false, true],
  [false, true, true, true, false],
  [false, false, false, false, false]],
'z': [[false, false, false, false, false],
  [false, false, false, false, false],
  [true, true, true, true, true],
  [false, false, false, true, false],
  [false, false, true, false, false],
  [false, true, false, false, false],
  [true, true, true, true, true],
  [false, false, false, false, false],],
'block' :[[true, true, true, true, true],
[true, true, true, true, true],
[true, true, true, true, true],
[true, true, true, true, true],
[true, true, true, true, true],
[true, true, true, true, true],
[true, true, true, true, true],
[true, true, true, true, true],]}

  constructor(rows, columns){
    this.rows = rows
    this.columns = columns
    let display = document.createElement('div');
    display.classList.add('lcddisplay');
    display.style.width = (columns*14.5)+'px';
    for(let g = 0; g < rows; g++) {
      var rowEle = document.createElement('div');
      rowEle.classList.add('LCDRow');
      for(var h = 0; h < columns; h++) {
        let letterEle = document.createElement('div');
        letterEle.classList.add('letter');
        for (var j = 0 ; j < 8 ; j++){
          for (var i = 0 ; i < 5 ; i++){
            var pixEle = document.createElement('div');
            pixEle.classList.add('pixel');
            letterEle.append(pixEle);
          }
        }
        rowEle.appendChild(letterEle);
      }
      display.appendChild(rowEle);
    }
    this.display = display;
    this.display_is_off = false;
  }

  async write_char(char, ele){
    let data = lcd.letterData[char]
    if (data === undefined){
      console.log('Character not found: \''+char+'\'');
      data = lcd.letterData.block
    }
    for (var i = 0 ; i < 8 ; i++){
      for (var j = 0 ; j < 5 ; j++){
        if (data[i][j]){
          ele.children[(i*5)+(j)].classList.add('pixel-on');
        }else{
          ele.children[(i*5)+(j)].classList.remove('pixel-on');
        } 
      }
    }
  }

  update_line(row, string){
    if (this.display_is_off){
      this.display_on();
    }
    let chars = string.split('');
    let rem = this.columns - chars.length;
    if (rem > 0){
      for (let a = 0 ; a < rem ; a++)
        chars.push(' ');
    }
    else{
      chars = string.slice(0, this.columns)
    }
    let rowEle = this.display.getElementsByClassName('LCDRow')[row];
    let letters = rowEle.getElementsByClassName('letter');
    if (lcd.check_performance){
      const promises = [];
      const prev = performance.now();
      for (let a = 0 ; a < this.columns ; a++){
        promises.push(this.write_char(chars[a], letters[a]));
      }
      Promise.all(promises)
        .then(()=>{
          console.log(performance.now()-prev);
      })
    }
    else{
      for(let a = 0 ; a < this.columns ; a++){
        this.write_char(chars[a], letters[a]);
      }
    }
  }

  update_char(row, column, char){
    this.write_char(char, this.display.getElementsByClassName('LCDRow')[row].getElementsByClassName('letter')[column]);
  }

  clear_display(){
    console.log("WHAT IS THIS ?")
    for (let a = 0 ; a < this.rows ; a++){
      this.update_line(a, " ");
    }
  }

  async display_off_pixel(ele){
    for (var i = 0 ; i < 8 ; i++){
      for (var j = 0 ; j < 5 ; j++){
        ele.children[(i*5)+(j)].classList.add('lcddisplay-off');
      }
    }
  }

  async display_on_pixel(ele){
    for (var i = 0 ; i < 8 ; i++){
      for (var j = 0 ; j < 5 ; j++){
        ele.children[(i*5)+j].classList.remove('lcddisplay-off');
      }
    }
  }

  display_on(){
    this.display.classList.remove('lcddisplay-off');
    let row_elements = this.display.getElementsByClassName('LCDRow');
    for (let row = 0 ; row < this.rows ; row++ ){
      let letter_ele = row_elements[row].getElementsByClassName('letter');
      for (let col = 0 ; col < this.columns ; col++){
        this.display_on_pixel(letter_ele[col]);
      } 
    }    
    this.display_is_off = false;
  }
  
  display_off(){
    this.display.classList.add('lcddisplay-off');
    let row_elements = this.display.getElementsByClassName('LCDRow');
    for (let row = 0 ; row < this.rows ; row++ ){
      let letter_ele = row_elements[row].getElementsByClassName('letter');
      for (let col = 0 ; col < this.columns ; col++){
        this.display_off_pixel(letter_ele[col]);
      }
    }
    this.display_is_off = true;
  }
}

export default lcd;